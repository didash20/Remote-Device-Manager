{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/utils.js","webpack:///./src/js/elvisIndex.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","createJsScript","_ref","scriptId","scriptUrl","parentSelector","document","querySelector","Promise","resolve","script","createElement","setAttribute","onload","appendChild","createCssLink","_ref2","linkId","linkUrl","link","getInstrumentDataFromUrl","params","settings","decodeURIComponent","INSTRUMENT_MAP","freeze","scope","fgen","dmm","bode","datalogger","vps","iv","datagenerator","digitalio","INSTRUMENT_NAME_MAP","DataExportFormat","csv","tdms","downloadBlob","blob","fileName","mimeType","arguments","length","undefined","a","window","URL","href","createObjectURL","Blob","type","body","click","removeChild","location","encodeURIComponent","downloadCanvas","canvas","toBlob","getCurrentDate","tzOffset","Date","getTimezoneOffset","_localTimeStr$split2","_slicedToArray","now","toISOString","slice","split","datePart","timePart","_datePart$split2","year","month","day","_timePart$split$0$spl2","hour","minute","second","sleep","ms","setTimeout","userAgent","navigator","toLowerCase","isIOS","test","isSafari","HTMLElement","safari","pushNotification","toString","isMobile","match","__webpack_exports__","_utils__WEBPACK_IMPORTED_MODULE_0__","loadResources","bentoBoxPathPrefix","concat","NationalInstruments","measurementsLive","onDevice","URLSearchParams","search","fetch","cache","then","response","text","content","onlineRoot","JSON","parse","url","e","catch"],"mappings":"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","file":"elvisIndex.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/bento-box/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6132);\n","export const createJsScript = ({scriptId, scriptUrl, parentSelector}) => {\n  if (document.querySelector(scriptId)) {\n    return Promise.resolve();\n  }\n  return new Promise((resolve) => {\n    const script = document.createElement('script');\n    script.setAttribute('id', scriptId);\n    script.setAttribute('type', 'text/javascript');\n    script.onload = resolve;\n    script.setAttribute('src', scriptUrl);\n    document.querySelector(parentSelector).appendChild(script);\n  });\n};\n\nexport const createCssLink = ({linkId, linkUrl, parentSelector}) => {\n  if (document.querySelector(linkId)) {\n    return Promise.resolve();\n  }\n  return new Promise((resolve) => {\n    const link = document.createElement('link');\n    link.setAttribute('id', linkId);\n    link.setAttribute('rel', 'stylesheet');\n    link.setAttribute('crossOrigin', 'anonymous');\n    link.onload = resolve;\n    link.setAttribute('href', linkUrl);\n    document.querySelector(parentSelector).appendChild(link);\n  });\n};\n\nexport const getInstrumentDataFromUrl = (params) => {\n  if (params.get('popped-out') !== 'true') {\n    return {\n      name: null,\n      settings: '',\n    };\n  }\n  const settings = params.get('instrument-setting') || '';\n  return {\n    name: params.get('instrument'),\n    settings: decodeURIComponent(settings),\n  };\n};\n\nexport const INSTRUMENT_MAP = Object.freeze({\n  scope: 'nchannel-scope',\n  fgen: 'function-generator',\n  dmm: 'digital-multimeter',\n  bode: 'bode-analyzer',\n  datalogger: 'data-logger',\n  vps: 'variable-power-supply',\n  iv: 'iv-analyzer',\n  datagenerator: 'data-generator',\n  digitalio: 'digital-io',\n});\n\nexport const INSTRUMENT_NAME_MAP = Object.freeze({\n  scope: 'Oscilloscope',\n  bode: 'Bode Analyzer',\n  iv: 'Current-Voltage Analyzer',\n  datalogger: 'Data Logger',\n  fgen: 'Function and Arbitrary Waveform Generator',\n  dmm: 'Digital Multimeter',\n  vps: 'Variable Power Supply',\n  datagenerator: 'Data Generator',\n  digitalio: 'Digital I/O',\n});\n\nexport const DataExportFormat = Object.freeze({\n  csv: 1,\n  tdms: 2,\n});\n\nexport const downloadBlob = (blob, fileName, mimeType = 'application/octet-stream') => {\n  const a = document.createElement('a');\n  if (window.URL && 'download' in a) {\n    a.href = window.URL.createObjectURL(new Blob([blob], {type: mimeType}));\n    a.setAttribute('download', fileName);\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n  } else {\n    location.href = 'data:application/octet-stream,' + encodeURIComponent(blob);\n  }\n};\n\nexport const downloadCanvas = (canvas, fileName) =>\n  new Promise((resolve) => {\n    canvas.toBlob((blob) => {\n      downloadBlob(blob, fileName);\n      resolve();\n    });\n  });\n\nexport const getCurrentDate = () => {\n  const tzOffset = new Date().getTimezoneOffset() * 60000;\n  const localTimeStr = new Date(Date.now() - tzOffset).toISOString().slice(0, -1);\n  const [datePart, timePart] = localTimeStr.split('T');\n  const [year, month, day] = datePart.split('-');\n  const [hour, minute, second] = timePart.split('.')[0].split(':');\n  return {\n    year,\n    month,\n    day,\n    hour,\n    minute,\n    second,\n  };\n};\n\nexport const sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\nconst userAgent =\n  ('navigator' in window && 'userAgent' in window.navigator && window.navigator.userAgent.toLowerCase()) || '';\n\nexport const isIOS = /iphone/i.test(userAgent) || /ipad/i.test(userAgent) || /ipod/i.test(userAgent);\n\nexport const isSafari =\n  /constructor/i.test(window.HTMLElement) ||\n  (function(p) {\n    return p.toString() === '[object SafariRemoteNotification]';\n  })(!window.safari || (typeof window.safari !== 'undefined' && window.safari.pushNotification));\n\nexport const isMobile = () =>\n  navigator.userAgent.match(/Android/i) ||\n  navigator.userAgent.match(/webOS/i) ||\n  navigator.userAgent.match(/iPhone/i) ||\n  navigator.userAgent.match(/iPad/i) ||\n  navigator.userAgent.match(/iPod/i) ||\n  navigator.userAgent.match(/BlackBerry/i) ||\n  navigator.userAgent.match(/Windows Phone/i);\n","import {createJsScript, createCssLink} from './utils';\n\nconst searchParameters = new URLSearchParams(location.search);\nconst forceOffline = searchParameters.get('offline') === 'true';\n\nconst loadResources = (bentoBoxPathPrefix) => {\n  createCssLink({\n    linkId: '#style',\n    linkUrl: `${bentoBoxPathPrefix}/style.css`,\n    parentSelector: 'head',\n  });\n  createJsScript({\n    scriptId: '#assets',\n    scriptUrl: `${bentoBoxPathPrefix}/assets.js`,\n    parentSelector: 'head',\n  });\n  createJsScript({\n    scriptId: '#main',\n    scriptUrl: `${bentoBoxPathPrefix}/main.js`,\n    parentSelector: 'head',\n  });\n\n  window.NationalInstruments = window.NationalInstruments || {};\n  window.NationalInstruments.measurementsLive = window.NationalInstruments.measurementsLive || {};\n  window.NationalInstruments.measurementsLive.onDevice = true;\n};\n\nif (forceOffline) {\n  loadResources('/bento-box');\n} else {\n  window\n    .fetch('https://measurementslive.ni.com/serverurl/2.2.0.json', {cache: 'no-store'}) // It does not have to be any actual file, even a 404 response will make the fetch promise resolve\n    .then((response) => response.text())\n    .then((content) => {\n      let onlineRoot = 'https://measurementslive.ni.com';\n      try {\n        // Use server url from the file\n        const orderedOnlineRoot = JSON.parse(content).url;\n        onlineRoot = orderedOnlineRoot;\n      } catch (e) {} //eslint-disable-line no-empty\n      return `${onlineRoot}/bento-box`; // When we can connect to Measurements Live online, use bento-box scripts from server or beta server\n    })\n    .catch(() => '/bento-box') // When we can not connect to Measurements Live online, use built-in bento-box scripts\n    .then(loadResources);\n}\n"],"sourceRoot":""}